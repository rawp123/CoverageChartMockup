:root{
  --bg0:#0b0f15;
  --bg1:#0f1720;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.08);
  --border: rgba(255,255,255,0.14);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.72);
  --shadow: 0 14px 40px rgba(0,0,0,0.40);
  --radius: 14px;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
  background: radial-gradient(1200px 700px at 50% 0%, #1f2937 0%, var(--bg1) 45%, var(--bg0) 100%);
  color: var(--text);
}

.page{ min-height: 100vh; padding: 28px 24px 42px; }

.shell{ width: min(1400px, 96vw); margin: 0 auto; }

.page-title{
  margin: 0 0 18px;
  font-size: 44px;
  line-height: 1.1;
  letter-spacing: 0.2px;
  font-weight: 750;
}

.controls{
  width: 100%;
  display:flex;
  flex-wrap: wrap;
  gap: 14px;
  align-items: flex-end;
  padding: 14px;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(6px);
}

.control{ display:flex; flex-direction: column; gap: 8px; }
.control-wide{ min-width: 520px; flex: 1 1 520px; }

.control label{
  font-weight: 650;
  font-size: 14px;
  color: var(--muted);
}

.row{ display:flex; gap: 10px; flex-wrap: wrap; align-items: center; }

select, input, button{
  height: 40px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--panel-2);
  color: var(--text);
  font-size: 14px;
  font-weight: 650;
  padding: 0 12px;
  outline: none;
}

select{ min-width: 240px; }

input{ width: 160px; }

button{
  min-width: 96px;
  cursor: pointer;
  transition: transform 0.06s ease, background 0.2s ease, border-color 0.2s ease;
}

button:hover{ background: rgba(255,255,255,0.12); border-color: rgba(255,255,255,0.22); }
button:active{ transform: translateY(1px); }

.chart-card{
  margin-top: 18px;
  background: #ffffff;
  border-radius: var(--radius);
  border: 1px solid rgba(17,24,39,0.12);
  box-shadow: var(--shadow);
  padding: 14px;
  height: 620px;
}

#CoverageChart{ width: 100% !important; height: 100% !important; display:block; }

.error{
  display:none;
  margin-top: 14px;
  padding: 12px 14px;
  border: 1px solid rgba(155,44,44,0.35);
  background: rgba(155,44,44,0.10);
  color: #ffd7d7;
  border-radius: 10px;
  white-space: pre-wrap;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 13px;
}

/* Legend (generated by JS) */
#chartLegend{
  width: min(1300px, 94vw);
  margin: 0 auto 34px;
  color: rgba(255,255,255,0.92);
  font-size: 12px;
}
#chartLegend .legend-wrap{
  display:flex;
  flex-wrap: wrap;
  gap: 10px 14px;
  align-items: center;
  padding: 10px 2px 0;
}
#chartLegend .legend-item{
  display:flex;
  align-items:center;
  gap: 8px;
  max-width: 260px;
}
#chartLegend .swatch{
  width: 12px;
  height: 12px;
  border-radius: 4px;
  border: 1px solid rgba(255,255,255,0.25);
  flex: 0 0 auto;
}
#chartLegend .legend-label{
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
#chartLegend .legend-more{
  opacity: 0.8;
  font-style: italic;
}
/* Make the chart area a fixed height */
#chartWrap {
  height: 70vh;        /* or 600px */
  max-height: 900px;   /* optional */
}

/* Make the canvas actually fill chartWrap */
#coverageChartCanvas {
  width: 100% !important;
  height: 100% !important;
  display: block;
}
/* ===== Dropdown + control legibility (dark UI) ===== */
:root {
  color-scheme: dark; /* tells the browser to render native controls in dark mode */
}

.controls select,
.controls input,
.controls button {
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.92);
  border: 1px solid rgba(255,255,255,0.12);
}

.controls select:focus,
.controls input:focus {
  outline: none;
  border-color: rgba(255,255,255,0.26);
  box-shadow: 0 0 0 3px rgba(255,255,255,0.08);
}

/* Dropdown menu items (works in Chrome/Edge; other browsers vary) */
.controls select option {
  background: #0b1220; /* dark menu */
  color: rgba(255,255,255,0.92);
}

/* Prevent “washed out” hover/disabled text */
.controls select:hover,
.controls button:hover {
  background: rgba(255,255,255,0.10);
}

.controls select:disabled,
.controls input:disabled {
  opacity: 0.55;
}